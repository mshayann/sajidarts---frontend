<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sajid Arts</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="icon" type="image/png" href="img/favicon.png" />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <style>
      .old-price {
        text-decoration: line-through;
        color: #777;
        font-size: 0.9em;
        margin-left: 8px;
      }
    </style>

    <!-- navbar section -->
    <section id="header">
      <a
        href="/index.html"
        class="logo-link"
        style="
          display: flex;
          text-align: end;
          text-decoration: none;
          flex-direction: column;
          justify-content: flex-start;
        "
        ><img
          src="img/sajidartslogo.png"
          class="logo"
          alt=""
          loading="lazy"
        /><small style="font-size: 10px; color: #555; text-align: center"
          >Since 1987</small
        ></a
      >

      <div>
        <ul id="navbar">
          <li><a id="homeLink" href="/index.html">Home</a></li>
          <!-- Shop Dropdown -->
          <li class="dropdown">
            <a href="#">Categories ▾</a>
            <ul class="dropdown-menu">
              <li>
                <a href="/wooden-wall-decor.html">Wooden Wall Decor Scenery</a>
              </li>
              <li><a href="/workplace-decor.html">Workplace Decor</a></li>
              <li><a href="/arabic-calligraphy.html">Arabic Calligraphy</a></li>
              <li><a href="/gold-acrylic-decor.html">Gold Acrylic Decor</a></li>
              <li>
                <a href="/chrome-acrylic-decor.html">Chrome Acrylic Decor</a>
              </li>
              <li>
                <a href="/customized-neon-signs.html">Customized Neon Signs</a>
              </li>
              <li>
                <a href="/acrylic-wall-clocks.html">Acrylic Wall Clocks</a>
              </li>
              <li><a href="/acrylic-shields.html">Acrylic Shields</a></li>
              <li>
                <a href="/offset-printing-works.html">Offset Printing Works</a>
              </li>
            </ul>
          </li>

          <li><a id="aboutLink" href="/about.html">About</a></li>
          <li><a id="contactLink" href="/contact.html">Contact</a></li>
          <li id="lg-bag">
            <a href="cart.html"><i class="fa-solid fa-cart-shopping"></i></a>
          </li>
          <a href="#" id="close"><i class="fas fa-times"></i></a>
        </ul>
      </div>
      <div id="mobile">
        <a href="cart.html"><i class="fa-solid fa-cart-shopping"></i></a>
        <i id="bar" class="fas fa-outdent"></i>
      </div>
    </section>

    <section id="prodetails" class="section-p1">
      <div class="single-pro-image">
        <img src="" width="100%" id="MainImg" alt="Product Image" />
        <div class="small-img-group" id="smallImgs"></div>
      </div>

      <div class="single-pro-details">
        <h6 id="category"></h6>
        <h4 id="productName"></h4>
        <h2 id="productPrice"></h2>
        <input type="number" id="qtyInput" value="1" min="1" />
        <button class="normal" id="addToCartBtn">Add To Cart</button>

        <h4>Product Details</h4>
        <span id="productDesc"></span>
      </div>
    </section>
    <!-- footer section -->
    <footer class="section-p1">
      <div class="col">
        <img class="logo" src="img/sajidartslogo.png" alt="" />
        <h4>Contact</h4>
        <p>
          <strong>Address: </strong>Shop No. 3, BS 12/1, Opp. Bank Al Habib,
          F.B. Area, Karimabad, Karachi
        </p>
        <p><strong>Phone:</strong> +92 317 7693301</p>
        <p><strong>Hours:</strong> 10:00 - 21:00, Mon - Sat</p>
        <div class="follow">
          <h4>Follow Us</h4>
          <div class="icon">
            <i class="fab fa-facebook-f"></i>
            <i class="fab fa-twitter"></i>
            <i class="fab fa-instagram"></i>
            <i class="fab fa-youtube"></i>
          </div>
        </div>
      </div>
      <div class="col">
        <h4>About</h4>
        <a href="/about.html">About Us</a>
        <a href="#">Policies</a>
        <a href="/contact.html">Contact Us</a>
      </div>
      <div class="col">
        <h4>My Account</h4>
        <a href="/cart.html">View Cart</a>
      </div>
      <div class="copyright">
        <p>© 2025, Sajid Arts</p>
      </div>
    </footer>
    <script src="products.js"></script>
    <script src="script.js"></script>

    <script>
      // 1. Get ID from URL
      const params = new URLSearchParams(window.location.search);
      const productId = parseInt(params.get("id"));

      // 2. Find product
      const product = products.find((p) => p.id === productId);

      if (product) {
        // Fill product details
        document.getElementById("MainImg").src = product.image;
        document.getElementById("category").innerText = product.category;
        document.getElementById("productName").innerText = product.name;
        const priceEl = document.getElementById("productPrice");
        priceEl.innerHTML =
          `$${product.price} ` +
          (product.oldPrice
            ? `<span class="old-price">$${product.oldPrice}</span>`
            : "");
        document.getElementById("productDesc").innerText = product.description;

        // ---- Add to Cart functionality ---- //
        const btn = document.getElementById("addToCartBtn");
        const qtyInput = document.getElementById("qtyInput");

        btn.addEventListener("click", () => {
          const qty = parseInt(qtyInput.value) || 1;

          // fetch existing cart
          let cart = JSON.parse(localStorage.getItem("cart")) || [];

          // check if already in cart
          const existing = cart.find((item) => item.id === product.id);
          if (existing) {
            existing.quantity += qty;
          } else {
            cart.push({
              id: product.id,
              name: product.name,
              price: product.price,
              image: product.image,
              quantity: qty,
            });
          }

          // save cart
          localStorage.setItem("cart", JSON.stringify(cart));

          alert(`${product.name} (x${qty}) added to cart!`);
        });
      } else {
        document.getElementById("prodetails").innerHTML =
          "<h2>Product not found.</h2>";
      }
    </script>
  </body>
</html>
