<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sajid Arts</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="icon" type="image/png" href="img/favicon.png" />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <style>
      .old-price {
        text-decoration: line-through;
        color: #777;
        font-size: 0.9em;
        margin-left: 8px;
      }
    </style>

    <!-- navbar section -->
    <section id="header">
      <a
        href="/index.html"
        class="logo-link"
        style="
          display: flex;
          text-align: end;
          text-decoration: none;
          flex-direction: column;
          justify-content: flex-start;
        "
        ><img
          src="img/sajidartslogo.png"
          class="logo"
          alt=""
          loading="lazy"
        /><small style="font-size: 10px; color: #555; text-align: center"
          >Since 1987</small
        ></a
      >

      <div>
        <ul id="navbar">
          <li><a id="homeLink" href="/index.html">Home</a></li>
          <!-- Shop Dropdown -->
          <li class="dropdown">
            <a href="#">Categories</a>
            <ul class="dropdown-menu">
              <li>
                <a href="/wooden-wall-decor.html">Wooden Wall Decor Scenery</a>
              </li>
              <li><a href="/workplace-decor.html">Workplace Decor</a></li>
              <li><a href="/arabic-calligraphy.html">Arabic Calligraphy</a></li>
              <li><a href="/gold-acrylic-decor.html">Gold Acrylic Decor</a></li>
              <li>
                <a href="/chrome-acrylic-decor.html">Chrome Acrylic Decor</a>
              </li>
              <li>
                <a href="/customized-neon-signs.html">Customized Neon Signs</a>
              </li>
              <li>
                <a href="/acrylic-wall-clocks.html">Acrylic Wall Clocks</a>
              </li>
              <li><a href="/steel-letter-sign.html">Steel Letter Signs</a></li>
              <li>
                <a href="/offset-printing-works.html">Offset Printing Works</a>
              </li>
            </ul>
          </li>

          <li><a id="aboutLink" href="/about.html">About</a></li>
          <li><a id="contactLink" href="/contact.html">Contact</a></li>
          <li id="lg-bag">
            <a href="cart.html"><i class="fa-solid fa-cart-shopping"></i></a>
          </li>
          <a href="#" id="close"><i class="fas fa-times"></i></a>
        </ul>
      </div>
      <div id="mobile">
        <a href="cart.html"><i class="fa-solid fa-cart-shopping"></i></a>
        <i id="bar" class="fas fa-outdent"></i>
      </div>
    </section>

    <section id="prodetails" class="section-p1">
      <div class="single-pro-image">
        <img src="" width="100%" id="MainImg" alt="Product Image" />
        <div class="small-img-group" id="smallImgs"></div>
      </div>

      <div class="single-pro-details">
        <h6 id="category"></h6>
        <h4 id="productName"></h4>
 
        <h2 id="productPrice"></h2>
                 <!-- Size selection -->
 <div id="sizeOptions" class="size-options"></div>
        <input type="number" id="qtyInput" value="1" min="1" />
        <button class="normal" id="addToCartBtn">Add To Cart</button>

        
      </div>
    </section>
    <!-- footer section -->
     <footer class="section-p1">
      <div class="col">
        <img class="logo" src="img/sajidartslogo.png" alt="" loading="lazy" />
        <h4>Contact</h4>
        <p>
          <strong>Address: </strong>Shop No. 3, BS 12/1, Opp. Bank Al Habib,
          F.B. Area, Karimabad, Karachi
        </p>
        <p><strong>Phone:</strong> +92 317 7693301</p>
        <p><strong>Hours:</strong> 11 am - 09 pm, Mon - Sat</p>
        <div class="follow">
          <h4>Follow Us</h4>
          <div class="icon" style="display:flex;justify-content: center; gap: 5px;">
            <a
              href="https://www.facebook.com/share/1AyhBuji4V/?mibextid=wwXIfr"
              target="_blank"
            >
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://www.instagram.com/sajid__arts?igsh=MTcwam95b2JmMDRhYg%3D%3D&utm_source=qr" target="_blank">
              <i class="fab fa-instagram"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="col">
        <h4>About</h4>
        <a href="/about.html">About Us</a>
        <a href="/contact.html">Contact Us</a>
      </div>
      <div class="col">
        <h4>My Account</h4>
        <a href="/cart.html">View Cart</a>
      </div>
      <div class="copyright">
        <p>© 2025, Sajid Arts</p>
      </div>
    </footer>
    <script src="products.js"></script>
    <script src="script.js"></script>

    <script>
      
      const params = new URLSearchParams(window.location.search);
      const productId = parseInt(params.get("id"));

      
      const product = products.find((p) => p.id === productId);

      if (product) {
  document.getElementById("MainImg").src = product.image;
  document.getElementById("category").innerText = product.category;
  document.getElementById("productName").innerText = product.name;

  const priceEl = document.getElementById("productPrice");
  let selectedSize = "medium"; // default size

  function updatePrice() {
    let price = product[selectedSize + "Price"]; // e.g. product.mediumPrice
    let discounted = product[selectedSize + "Discounted"];

    if (discounted) {
      priceEl.innerHTML = `Rs. ${discounted} <span class="old-price">Rs. ${price}</span>`;
    } else {
      priceEl.innerHTML = `Rs. ${price}`;
    }
  }

  // First time set
  updatePrice();
const sizeOptions = document.getElementById("sizeOptions");

// available sizes
const sizes = ["medium", "large"];

sizes.forEach(size => {
  if (product[size + "Price"]) { // check if size exists
    const dimension = product[size + "Dimension"] || "";
    const btn = document.createElement("button");
    btn.className = "normal size-btn";
    btn.style.backgroundColor = "#fff";
    btn.style.color = "black";
    btn.dataset.size = size;
    btn.textContent = `${size.charAt(0).toUpperCase() + size.slice(1)} ${dimension}`;
    sizeOptions.appendChild(btn);
  }
});
// Handle size selection
document.querySelectorAll(".size-btn").forEach((btn) => {
  btn.addEventListener("click", () => {
    // remove active from all
    document.querySelectorAll(".size-btn").forEach((b) =>
      b.classList.remove("active")
    );

    // add active to clicked
    btn.classList.add("active");

    selectedSize = btn.dataset.size;
    updatePrice();
  });
});

// highlight Medium by default
const mediumBtn = document.querySelector('.size-btn[data-size="medium"]');
if (mediumBtn) mediumBtn.classList.add("active");


  // ---- Add to Cart ---- //
  const btn = document.getElementById("addToCartBtn");
  const qtyInput = document.getElementById("qtyInput");

  btn.addEventListener("click", () => {
    const qty = parseInt(qtyInput.value) || 1;
    let price = product[selectedSize + "Price"];
    let discounted = product[selectedSize + "Discounted"];
    let finalPrice = discounted || price;

    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    const existing = cart.find(
      (item) => item.id === product.id && item.size === selectedSize
    );

    if (existing) {
      existing.quantity += qty;
    } else {
      cart.push({
        id: product.id,
        name: product.name,
        size: selectedSize,
        price: finalPrice,
        image: product.image,
        quantity: qty,
      });
    }

    localStorage.setItem("cart", JSON.stringify(cart));
    alert(`${product.name} (${selectedSize}, x${qty}) added to cart!`);
  });
}
    </script>
    <!-- WhatsApp Widget -->
    <script>
      (function () {
        var options = {
          whatsapp: "+923177693301", // ✅ Your WhatsApp number
          call_to_action: "Chat With Us", // Text in popup
          position: "left", // 'right' or 'left'
        };
        var proto = document.location.protocol,
          host = "getbutton.io",
          url = proto + "//static." + host;
        var s = document.createElement("script");
        s.type = "text/javascript";
        s.async = true;
        s.src = url + "/widget-send-button/js/init.js";
        s.onload = function () {
          WhWidgetSendButton.init(host, proto, options);
        };
        var x = document.getElementsByTagName("script")[0];
        x.parentNode.insertBefore(s, x);
      })();
    </script>

  </body>
</html>
